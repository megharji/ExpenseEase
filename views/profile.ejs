<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExpenseEase</title>
    <link rel="stylesheet" href="/stylesheets/profile.css">
    <link rel="icon" href="https://images.unsplash.com/photo-1574607383476-f517f260d30b?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1yZWxhdGVkfDd8fHxlbnwwfHx8fHw%3D">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

</head>


<body>

    <div class="main3">

        <nav class="navbar">
            <h4><i class="ri-menu-line"></i></h4>
            <div class="logo">
                <img src="https://i.pinimg.com/236x/57/ec/65/57ec6522d8e0c873e41ea828936b8398.jpg" alt="">
                <h1>ExpenseEase</h1>
            </div>
            <a class="btn" href="/createexpense">Add New Expense</a>

            
        </nav>
        
       
        <div class="main4">
            <div class="dashboard">
                <div class="dashboard1">
                    <div class="image"><img src="/uploads/<%=admin.image%>" alt=""></div>          
                    <h1><%= admin.username %></h1>
                    <a href="/image">Add Profile Image</a>
                </div>
                <div class="dashboard2">
                    <a href="/"><i class="ri-home-fill"></i> Home</a>
                    <a href="/about"><i class="ri-file-list-3-fill"></i> About Us</a>
                    <a href="/reset"><i class="ri-refresh-fill"></i> Reset Password</a>
                    <a href="/signout"><i class="ri-login-box-fill"></i> Signout</a>
                </div>
               
            </div>

            <div class="container">
                <h1>Total Amount Spend: <%= expenses.reduce((ac,cv) => ac+cv.amount, 0)%></h1>


               
                <div class="expensedetail">
                    <form class="form" action="/filter">
                        <h2>Filter Your Expenses</h2>
                        <select class="input" name="key" id="">
                            <option value="filter">Select the filter</option>
                            <option value="amount">Amount</option>
                            <option value="remark">Remark</option>
                            <option value="category">Category</option>
                            <option value="paymentmode">Payment Mode</option>
                        </select>
                        <input class="input" type="text" name="value" placeholder="enter search term" />
                        <button>Filter</button>
                    </form>


                    <div class="show-container">

                    

                        <% if(expenses.length === 0){%>
                            <h1 style="color: rgb(0, 0, 0); text-align: center; margin-top: -9%; background-color: #ffffff; padding: 1% 5%; border-radius: 50px;">No Expenses</h1>
                        <%}%>
                        
                        <% expenses.forEach(function(expn, idx){%>
                            
                            <div class="expensess"> 
                                <div class="expensess0">
                                    <div class="expensess1">
                                        <h1>
                                            <%= expn.title %> 
                                        </h1>
                                       
                                        <h2>
                                            <%= expn.category %> 
                                        </h2>
                                        <h3>                                        
                                            <%= expn.description %>
                                        </h3>
                                    </div>
                                    
                                    <div class="expensess2">
                                        <h1>
                                            <%= expn.amount %>
                                        </h1>
                                        <h2>
                                            <%= expn.paymentmode %>
                                        </h2>
                                    </div>
                                </div>          
                            </div>

                            <div class="expensess00">

                                <a href="/delete/<%= expn._id %>">Delete</a>
                                <a href="/update/<%= expn._id %>">Update</a>

        
                            </div>
                        <%})%>   
                    </div>   
                </div>
                </div>

                
        </div>
       
        
        

        
    </div>

   <script>

        var dashboard =  document.querySelector(".dashboard")
        var icon =  document.querySelector("h4")
        var check = 0

        icon.addEventListener("click", function(){
            if(check == 0){
                dashboard.style.display = "flex"
                icon.innerHTML =`<i class="ri-close-fill"></i>`                
                check = 1
            }else{
                dashboard.style.display = "none"
                icon.innerHTML =`<i class="ri-menu-line"></i>`
                check = 0
            }
            
        })

   </script>

</body>
</html>